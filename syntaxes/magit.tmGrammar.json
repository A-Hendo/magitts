{
  "scopeName": "source.magit",
  "patterns": [
    {
      "include": "#expression"
    },
    {
      "include": "#diff"
    }
  ],
  "repository": {
    "expression": {
      "patterns": [
        {
          "include": "#sectionHeader"
        },
        {
          "include": "#modified"
        }
      ]
    },
    "sectionHeader": {
      "match": "Untracked files|((Unstaged|Staged) changes)|Stashes|Recent commits|Unmerged into|Unpulled from|GitError!|(Merging .*(?= \\())|(Rebasing .* onto .*$)",
      "name": "markup.bold keyword.section.header.magit"
    },
    "modified": {
      "match": "^(modified|new file|deleted|renamed|copied|unmerged)   .*$",
      "name": "markup.bold source.magit"
    },
    "diff": { 
      "begin": "(?=^@@)",
      "end": "(?=^(modified|new file|deleted|renamed|copied|unmerged))|(?=$^)",
      "patterns": [
        {
          "include": "source.diff"
        }
      ]
    }
  }
}